- version: 2.0.0.alpha.1
  release: ""
  breaking:
    - The API getClassTracker() returns a different value now
- version: 1.3.9
  release: 2023-04-05
  breaking:
    - The default font for Global UI was changed to Germania One.
      You can change back to Pirata One in the Options menu, if you prefer that.
      It doesn't effect other parts yet (like tokens or the scenario chart).
  feature:
    - Adds the Game Key "Delete Action" which functions the same as using the delete key, but can also be used by non-promoted players.
      Unfortunately it's not possible to bind that Game Key to the delete key, due to a TTS limitation.
    - Improves the images for the scenario aid and objective tokens.
      They are also now not limited anymore and can show any text or number on them.
      This applies for scenarios, as well as the ones that are pulled from the stack.
      To change what is displayed on a token, change its name and use the "Update" command from the right-click context menu.
    - Corridors can now also use aid tokens using the floating UI, just like other overlays.
  fix:
    - Enhancing the Generate Any element using the Enhancement Calculator doesn't raise a warning anymore
- version: 1.3.8
  release: 2023-03-07
  breaking:
    - The explicit "Loot" and "Defeat Monster" Game Keys have been removed.
      You can use the delete key instead.
    - It's no longer possible to delete any object with the delete key on its own.
      Instead this key now has special handling for different object types (see below).
      To delete objects normally, use the new "Modifier Key" Game Key in combination with the delete key.
    - The wound icon and the icons used in the ability preview now use icons from Frosthaven by default.
      If you want to use the ones from Gloomhaven instead, select the "Classic" theme from the "Themes" option.
      This does not yet apply to the icons for attack, movement and range shown above monsters.
  feature:
    - The delete key can now be used for general purpose actions, e.g. to loot tokens, defeat monsters or exhaust characters.
      Check the docs (https://gloomhaven-tts-enhanced.github.io/public-scripts/mod/1.3/hotkeys.html#delete-action) for more info.
    - The Campaign Manager also looks inside the "Retired Characters" and "Inactive Characters" boxes when creating a save file.
      Importing them will handle them like any other inactive character and not place them back into those bags.
  fix:
    - Using Open Information now increases monster level and trap damage instead of reducing gold and XP reward.
- version: 1.3.7
  release: 2023-03-23
  breaking:
    - Monsters can not be drawn from their monsters bags directly anymore.
      They need to be spawned using the "Normal" or "Elite" buttons.
  feature:
    - Adds a new option to set if summoned monsters should drop loot or not.
    - Adds hotkeys to change the resource and stance bars for character figures.
    - Adds support for scenario aid tokens for monster figures and custom figures.
    - Adds support to adjust the starting stance for a character.
  fix:
    - Fixes monster spawning after reaching the maximum monster limit.
    - Fixes Music Note solo scenario missing scenario special rules.
- version: 1.3.6
  release: 2023-03-02
  breaking:
    - Removed JotL classes and guide books.
      Those can now be found in the JotL mod.
      The only thigns remaining are the JotL battle goals.
  feature:
    - Custom figures now support Formulas for their stats.
    - Introduced a new Formula operator "byScenarioLevel" to easily set stats based on the current scenario level.
    - Added a new object type "Loot" for coins or loot tokens.
  fix:
    - Fixes the FC replacement cards to also support the summon buttons.
- version: 1.3.5
  release: 2023-02-02
  fix:
    - Increases the size of the shop area.
    - Fixes the Diviner's summon ability card "Envision the Course".
    - Fixes the name of scenario 55.
    - Fixes disabling particle effects. It now already effects minis before reloading them.
- version: 1.3.4
  release: 2023-01-07
  guide: http://cloud-3.steamusercontent.com/ugc/2002446038662650433/8A7A91FF0F1C1B59E8EC3CDAA34B868CDF0F73AD/
  feature:
    - Adds hotkeys to add/remove XP when hovering over a character figure.
  fix:
    - Fixes treasures not loading when importing a campaign with the CM.
    - Fixes the change log not showing any information.
    - Fixes figures in scenario definitions can use tags as well.
    - Fixes the end of scenario bonus XP/gold calculation when using the Open Information option.
    - Fixes an issue with odd frame heights for custom figures by allowing to pass explicit values for them in the scenario definition.
- version: 1.3.3
  release: 2022-12-20
  guide: http://cloud-3.steamusercontent.com/ugc/2002446038662650433/8A7A91FF0F1C1B59E8EC3CDAA34B868CDF0F73AD/
  fix:
    - Fixes a problem with CS player mats not working with the attack modifier deck buttons
    - Fixes an error with scenario 105 that prevents Bandit Guards from spawning
    - Fixes the warnings in scenario 112 about mirrors
- version: 1.3.2
  release: 2022-12-19
  guide: http://cloud-3.steamusercontent.com/ugc/2002446038662650433/8A7A91FF0F1C1B59E8EC3CDAA34B868CDF0F73AD/
  fix:
    - Fixes named monsters sometimes not getting a monster number
    - Fixes the Enhancement Calculator showing white images for some enhancement dots
- version: 1.3.1
  release: 2022-12-05
  guide: http://cloud-3.steamusercontent.com/ugc/2002446038662650433/8A7A91FF0F1C1B59E8EC3CDAA34B868CDF0F73AD/
  feature:
    - Adds an option to change the monster ability card preview to use text only instead of the icons.
  fix:
    - Scenario 41 doesn't spawn all the monsters in room 2 after opening it anymore.
      Instead there's now a button to trigger the spawning of the additional monsters.
    - Party Sheet reputation correctly shows the -4 modifier for a reputation above 15
- version: 1.3.0
  release: 2022-11-28
  guide: http://cloud-3.steamusercontent.com/ugc/2002446038662650433/8A7A91FF0F1C1B59E8EC3CDAA34B868CDF0F73AD/
  breaking:
    - Numpad Keys (aka scripting buttons) are removed in favor of TTS Game Keys.
    - Removed Hexagonal Monster option.
    - Changed how custom classes need to register.
  feature:
    - A new Context Menu that can be opened for figures that allows for fast spawns, summons and applying conditions.
    - Ability Summons will apply their Enhancements to their stats.
    - The monster ability card preview in the Initiative Tracker now shows icons instead of text and the actual area of effect of attack.
    - All figures health bars will now automatically rotate to face the bottom of the table.
    - New option to specify if you want the scenario's monster types to reveal at the beginning or on demand.
    - New option to specify if 3D or 2D models should be used.
      It also includes an option to disable particle effects of models.
    - A new option to switch to the non-permanent enhancement system known from GH Digial, where most enhancements are cheaper but only apply to a single character instead of all characters of the same class.
    - A new "Shop" window was added that allows to sort the laid out items by type, cost or name.
    - New, AI generated artwork for all summons thanks to @Nerdhaven.
    - Random Item designs are now stacked in their pairs within the bag.
    - Initiative Tracker no longer causes a UI re-render.
    - New Monster Mats.
    - Monster stats pulled according to Stat Sheet Level.
    - Scenario Aid Tokens spawned during setup.
    - HP bars on obstacles and doors etc.
    - Named monsters now show up with a purple base color.
    - Allied monsters now shop up with a blue base color.
    - Game Keys to quickly switch between characters (intended for solo/multi-handed play).
    - HP changes are now grouped and only fire a single message after a short period of time.
    - Updated Envelope X content from the KS update.
    - More and better support for custom content (e.g. classes with resources/stances, auto-unpacking of objects, integration into the Campaign Manager and lots more)
    - Right-clicking the add/remove HP/XP buttons on the Play Area now add/remove by 5
    - Scenarios can now spawn from a pool of randomly selected objects (e.g. like scenario 95, 102 or 103).
    - The Monster Setup now has the default option "Auto" as the scenario level. This will spawn the monster according to the current scenario level on the scenario chart.
  fix:
    - '"Random" Bags now pull in a random order.'
    - Bless/Curse/-1*s are now put back on packing a character (prevents the cards getting deleted).
    - Changed options are now correctly saved.
    - The Enhancement Calculator now also works for other Physics settings than "Full".
  known:
    - The unlocked item from envelope ||E|| currently doesn't transfer correctly with the Campaign Manager and raise an error during import.
      You have to pull it from the envelope again.
      The item from envelope ||X|| is placed into the respective rewards item deck
    - During importing a campaign with the Campaign Manager the maximum HP of characters might not load correctly.
      If this is the case simply remove and re-add them again with the "Add Player" button
- version: 1.3.0.beta.20
  release: 2022-11-16
  nickname: It's a wrap!
  breaking:
    - The player reference sheets were removed from the board by default.
      They can be found in the bag on the right (both the regular one and the FH one).
      This makes sure that when removing extra AM cards at the end of round they don't conflict with the player reference for player 3.
    - The Party Sheet doesn't have inputs for the characters and their level anymore.
      Instead setting the scenario level and difficulty is now done by using the scenario level chart.
      Yoy can also toggle the Open Information setting from there.
      The Current scenario level is updated automatically when a new scenario is loaded.
  feature:
    - The Campaign Manager can now be integrated with Custom Content.
      This allows to save/load additional data for custom characters or custom campaigns.
    - Scenarios can now define an icon that is shown in the scenario list.
      An example for this are the solo scenarios which show the class tracker in the scenario list.
    - The "Defeat Monster" hotkey now also works for Summons.
    - The condition stacks are automatically updated when Custom Content is added that adds new ones.
    - Monsters can now use formulas in their stats on stat sheets.
  fix:
    - Scrolling in the scenario/monster/campaign list is now actually useful.
      Also the scroll bar is more visible in the campaign list.
    - SoX city events now correctly save and load with the Campaign Manager.
    - The revised Stamina Potions now sort correclty with the item sorter.
    - The scenario level chart doesn't reset anymore when reloading the game.
    - The scenario level chart shows the correct information when using the Open Information option.
    - The FC final boss now uses the correct ability deck again.
- version: 1.3.0.beta.19
  release: 2022-10-27
  nickname: Feature Creep
  feature:
    - The mod now supports the non-permanent enhancement mode knowm from
      Digital. In this mode most enhancements are cheaper but they are only tied
      to a single character instead of all characters of the same class. The
      active mode can be changed from the Options menu.
    - A new shop window based on the work from @Rita is added that allows to
      sort the items layed out in the shop area.
    - All summons now show up with their icon in the Context Menu thanks to
      @Nerdhaven.
    - The scenario chart below the Party Sheet now also shows the updated
      information when using the Solo/Open Information option.
    - The Solo scenario book is now an actual book instead of a stated object.
  fix:
    - Item descriptions are not required to be numbers anymore.
    - The Diviner's Rift doesn't show a warning anymore when spawned from the
      Context Menu.
    - The M cards from CS don't throw an error anymore when imported with the
      Campaign Manager.
    - The locked classes box isn't stuck in the air anymore when importing a
      Campaign where locked classes already exist on the table.
    - Summons also show up the Context Menu of a character when their summon
      card is placed on one of the ability cards slot for the character.
- version: 1.3.0.beta.18
  release: 2022-10-17
  nickname: Premature Release
  feature:
    - Characters can now have up to three resource bars.
    - Characters can have both resource bars and a stance bar at the same time.
    - Resource bars can use an image as an icon like the stance bar as well.
  fix:
    - The scenario builder creates the correct scripts again.
- version: 1.3.0.beta.17
  release: 2022-10-10
  nickname: Repacked
  breaking:
    - Extra content defined in a custom class registration is now searched by
      full name while unpacking a character box. E.g. an exta content with name
      'Rubble Tokens' isn't unpacked anymore if the extra in the class is only
      named 'Rubble'.
  feature:
    - All summons now have new AI generated artwork thanks to @Nerdhaven.
    - The markup for {e.Damage} was added to show the damage icon in the ability
      preview.
    - The ability preview was improved for all monsters. Removed all commas and
      added line breaks where appropiate
    - The dials for HP and XP are now single objects instead of having gazillion
      states. This also means the XP dials isn't limited to 30 anymore.
    - Unpacking a fresh character box is now the same as unpacking an already
      packed character box. This also means that extra components defined in a
      class registration are now unpacked for a fresh character box.
    - Placing an extra component from a class definition is not limited to its
      type anymore. Instead there's a new target property where a component can
      define where it wants to be placed. Placing multiple components at the
      same targets lines them up next to each other instead of at the same
      place.
  fix:
    - Fixes the Start of Round button not recognizing missing ability cards.
    - Fixes the warning for overlays spawned from the Context Menu about missing
      conditions traits.
    - Fixes removing Curses/Blesses at the end of round even when the decks
      don't need shuffling.
- version: 1.3.0.beta.16
  release: 2022-09-27
  breaking:
    - The effects for 'Moving', 'Jumping' and 'Flying' have been renamed to
      'Move', 'Jump' and 'Fly'. This might effect some custom content that isn't
      updated yet.
  feature:
    - All buttons with custom fonts have been replaced to use text instead of
      images.
    - The effect 'Teleport' has been added to allow for the Teleport move type.
    - The monster ability card preview in the Initiative Tracker now shows icons
      instead of plain Text.
    - The area of effect for monster abilities is now shown as an image as well
      next to the ability card preview.
    - The Frosthaven theme also effects the icons shown in the Initiative
      Tracker.
    - The update check for new mod version now also works for beta versions.
  fix:
    - Adding face-up cards to the Attack Modifier deck now draws the top-card
      again, instead of the bottom one (e.g. for Diviner's Scry ability).
    - FC section now show the correct section image again.
    - Sun Solo scenario uses the correct scenario level modifier.
    - Context Menu on Two Minis works again.
    - The 'Show' button for the Campaign Manager floppy disc now always shows up
      when loaded into the mod.
- version: 1.2.1
  release: 2021-08-23
  fix:
    - Prevent removal of Custom Class Personal Quests and Items
    - "Demolitionist Perk #4 removes correct AMD cards"
- version: 1.2.0
  release: 2021-08-18
  feature:
    - New 3D models for the GH starter classes.
    - New animated 3D doors.
    - Improvements to other 3D overlay tiles.
    - New Options Panel to control your settings.
    - New Scenario and Monster Setup menus (including access to Solo Scenarios)
    - Improved support for Custom Classes.
  fix:
    - '"Hidden Rooms" for scenarios will now spawn all monster types at the
      beginning, rather than room to room.'
- version: 1.1.0
  release: 2021-06-11
  feature:
    - Complete aesthetic overhaul of all 3D overlay.
    - Fancy-pants Enhancement Calculator.
    - Convenient buttons on Summon cards (right-click on the summon token to
      bring out a standee).
    - New table art! Cycle through using NUM6-9.
    - Added support for Custom Class conditions; more custom class support to be
      added in the future.
    - Performance improvements with reworked deck mats and the 3D overlays.
    - Interactive Envelope X solution.
